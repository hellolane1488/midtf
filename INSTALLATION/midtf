#!/bin/bash

# If you don't know what this file is, don't touch it.
export LANG=en_US.UTF-8

detail_arg_handler() {
  if [ -z "$2" ]; then
    echo "Error: Missing argument for option -d"
    echo "Usage: midtf -d [ARG]"
    exit 1
  fi
}

case $1 in
  "-h"|"--help") echo Run: "man midtf" ;;
  "-rm"|"--uninstall")
    sudo rm -rf /usr/share/MIDTF
    sudo rm -rf /usr/bin/midtf
    echo midtf uninstalled successfully
    exit 1
    ;;
  "-d"|"--detail")
    detail_arg_handler "$@"
    java -jar /usr/share/MIDTF/*.jar | grep -i $2 | head -n 1
    exit 1
    ;;
  "-a"|"--all") java -jar /usr/share/MIDTF/*.jar "--all"; exit 1 ;;
  "-da"|"-ad")
    detail_arg_handler "$@"
    java -jar /usr/share/MIDTF/*.jar "--all" | grep -i $2 | head -n 1
    exit 1
    ;;
  *) java -jar /usr/share/MIDTF/*.jar; exit 1 ;;
esac